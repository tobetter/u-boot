#!/bin/sh
#
# Copyright (C) 2019 Dongjin Kim <tobetter@gmail.com>
#

set -e

PROC_DTMODEL="/proc/device-tree/model"

get_dt_model() {
	cat "${PROC_DTMODEL}"
}

if grep '/target ' /proc/mounts | grep ^/dev/sd[a-z] >/dev/null; then
	exit 1
fi

case $(get_dt_model) in
	"Hardkernel ODROID-N2")
		exit 0
		;;
	*)
		exit 1
		;;
esac
